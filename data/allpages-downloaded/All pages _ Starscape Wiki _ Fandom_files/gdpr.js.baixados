(window.webpackJsonptrackingOptIn=window.webpackJsonptrackingOptIn||[]).push([[3],{14:function(e,t,s){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(){for(var e,t,s=[],r=window,o=r;o;){try{if(o.frames.__tcfapiLocator){e=o;break}}catch(e){}if(o===r.top)break;o=o.parent}e||(function e(){var t=r.document,s=!!r.frames.__tcfapiLocator;if(!s)if(t.body){var n=t.createElement("iframe");n.style.cssText="display:none",n.name="__tcfapiLocator",t.body.appendChild(n)}else setTimeout(e,5);return!s}(),r.__tcfapi=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return s;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(t=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):s.push(n)},r.addEventListener("message",(function(e){var t="string"==typeof e.data,s={};if(t)try{s=JSON.parse(e.data)}catch(e){}else s=e.data;var r="object"===n(s)&&null!==s?s.__tcfapiCall:null;r&&window.__tcfapi(r.command,r.version,(function(s,n){var o={__tcfapiReturn:{returnValue:s,success:n,callId:r.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(o):o,"*")}),r.parameter)}),!1))}},15:function(e){e.exports=JSON.parse('{"mainHeadline":"This Site Uses Cookies","mainBody":["Fandom and our partners use technology such as cookies on our site to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic.","As set forth in our Privacy Policy, we use these cookies and technologies on the basis of your consent, which you can give by clicking / tapping \\"%acceptButton%\\" below. By consenting, you permit us and our partners to collect personal data such as your browsing history on our site and IP address to provide ads that are aligned to your interests%iabPurposes%.","For additional options, please select \\"%learnMoreButton%.\\" Note that if you do not accept, you may see ads that are less relevant to you and certain features of the site may not work as intended. You can change your mind and revisit your consent choices at any time by utilizing the \\"clear cookies\\" functionality in your browser (this will prompt us to ask for consent again when you next visit our website). For information about our use of cookies and our partners who use cookies on our site, please see our %privacyPolicy% and %partnerList%, respectively."],"acceptButton":"ACCEPT","acceptAllButton":"ACCEPT ALL","rejectButton":"REJECT","rejectAllButton":"REJECT ALL","consentButton":"CONSENT","doNotConsentButton":"DO NOT CONSENT","backButton":"Back","learnMoreButton":"LEARN MORE","saveButton":"Save And Close","privacyPolicyButton":"Privacy Policy","partnerListButton":"Partner List","preferencesHeadline":"Preference Settings","preferencesBody":["Fandom and its partners use cookies to store and collect information from your browser to personalize content and ads, provide social media features, and analyze our traffic. You can define your preferences and give or modify your consent for the purposes and vendors listed below.  In addition, as indicated below, some companies process information without your consent based on their or our legitimate interest (such as to aid us in website traffic analysis and to inform improvements to our site). You can access their privacy policies for more information. ","For more information about the cookies we use, please see our %privacyPolicy%. For information about our partners using cookies on our site, please see the %partnerList%."],"additionalConsentHeader":"Additional Consent Partners","internalUseHeader":"Fandomâ€™s Internal Use","internalUseProject1":"Content personalization","purposesHeader":"Our Partners\' Purposes","specialPurposesHeader":"Our Partners\' Special Purposes","featuresHeader":"Our Partners\' Features","specialFeaturesHeader":"Our Partners\' Special Features","vendorsHeader":"Our Partners","projectsHeader":"Our projects","showPurposeDetailsButton":"Show Preferences","hidePurposeDetailsButton":"Hide Preferences","showVendorDetailsButton":"Show Details","hideVendorDetailsButton":"Hide Details","findOutMoreButton":"Find out more","allowedButton":"Allowed","disallowedButton":"Disallowed","acceptedButton":"Accepted","rejectedButton":"Rejected","privacyPolicyLinkButton":"Link to Privacy Policy","legitimateInterestsHeading":"Legitimate interests","legitimateInterestsLinkButton":"Link to Legitimate Interests","dataCategoriesHeading":"Data category","example":"Example","purposesHeading":"Purposes","ourPartnersCount":["By accepting our Privacy Policy, you consent to us sharing your personal data with %partnerCount% partners for the purposes and special purposes."],"purposesLegitimateInterestHeading":"Purposes of legitimate interest","purposesFlexibleHeading":"Flexible purposes","purposesSpecialHeading":"Special purposes","featuresHeading":"Features","featuresSpecialHeading":"Special features","privacyPolicyHeading":"Privacy policy","storageDetailsHeading":"Storage details","storageDetailsNonCookieAccessTrue":"This vendor is using other methods of storage (e.g. local storage) or accessing information on your device.","storageDetailsNonCookieAccessFalse":"This vendor is using cookies as a means of storage or accessing information on your device.","storageDetailsCookieMaxAge":"The maximum cookie storage duration is:","storageDetailsCookieMaxAgeImmediately":"expire immediately","storageDetailsCookieMaxAgeSeconds":"seconds","storageDetailsCookieMaxAgeMinutes":"minutes","storageDetailsCookieMaxAgeHours":"hours","storageDetailsCookieMaxAgeDays":"days","dataRetentionHeading":"Data retention","dataRetentionStandardRetentionPeriod":"The standard retention period is:","alwaysActiveText":"Always Active","separator":", "}')},41:function(e,t,s){"use strict";s.r(t),s.d(t,"createInstance",(function(){return Cs}));var n,r,o,i,a,l,c,u,d=s(8),p=s(0),h=s(3),g=s(1),m=s.n(g);(r=n||(n={})).PING="ping",r.GET_TC_DATA="getTCData",r.GET_IN_APP_TC_DATA="getInAppTCData",r.GET_VENDOR_LIST="getVendorList",r.ADD_EVENT_LISTENER="addEventListener",r.REMOVE_EVENT_LISTENER="removeEventListener",(i=o||(o={})).STUB="stub",i.LOADING="loading",i.LOADED="loaded",i.ERROR="error",(l=a||(a={})).VISIBLE="visible",l.HIDDEN="hidden",l.DISABLED="disabled",(u=c||(c={})).TC_LOADED="tcloaded",u.CMP_UI_SHOWN="cmpuishown",u.USER_ACTION_COMPLETE="useractioncomplete";var f=Object.defineProperty,v=(e,t,s)=>(((e,t,s)=>{t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class b{constructor(e,t,s,n){v(this,"listenerId"),v(this,"callback"),v(this,"next"),v(this,"param"),v(this,"success",!0),Object.assign(this,{callback:e,listenerId:s,param:t,next:n});try{this.respond()}catch(e){this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class y extends b{respond(){this.throwIfParamInvalid(),this.invokeCallback(new R(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}var C=Object.defineProperty,w=(e,t,s)=>(((e,t,s)=>{t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);var S=Object.defineProperty,I=(e,t,s)=>(((e,t,s)=>{t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class E{static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=o.LOADING,this.disabled=!1,this.displayStatus=a.HIDDEN,this.eventQueue.clear()}}I(E,"apiVersion","2"),I(E,"tcfPolicyVersion"),I(E,"eventQueue",new class{constructor(){w(this,"eventQueue",new Map),w(this,"queueNumber",0)}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach((e,t)=>{new y(e.callback,e.param,t,e.next)})}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}),I(E,"cmpStatus",o.LOADING),I(E,"disabled",!1),I(E,"displayStatus",a.HIDDEN),I(E,"cmpId"),I(E,"cmpVersion"),I(E,"eventStatus"),I(E,"gdprApplies"),I(E,"tcModel"),I(E,"tcString");var P=Object.defineProperty,_=(e,t,s)=>(((e,t,s)=>{t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class L{constructor(){_(this,"cmpId",E.cmpId),_(this,"cmpVersion",E.cmpVersion),_(this,"gdprApplies",E.gdprApplies),_(this,"tcfPolicyVersion",E.tcfPolicyVersion)}}var V=Object.defineProperty,A=(e,t,s)=>(((e,t,s)=>{t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class O extends L{constructor(){super(...arguments),A(this,"cmpStatus",o.ERROR)}}var T=Object.defineProperty,k=(e,t,s)=>(((e,t,s)=>{t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class R extends L{constructor(e,t){if(super(),k(this,"tcString"),k(this,"listenerId"),k(this,"eventStatus"),k(this,"cmpStatus"),k(this,"isServiceSpecific"),k(this,"useNonStandardStacks"),k(this,"publisherCC"),k(this,"purposeOneTreatment"),k(this,"outOfBand"),k(this,"purpose"),k(this,"vendor"),k(this,"specialFeatureOptins"),k(this,"publisher"),this.eventStatus=E.eventStatus,this.cmpStatus=E.cmpStatus,this.listenerId=t,E.gdprApplies){const t=E.tcModel;this.tcString=E.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardStacks=t.useNonStandardStacks,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const s=e.getMaxVendorId();for(let n=1;n<=s;n++){const s=n.toString();e.getRestrictions(n).forEach(e=>{const n=e.purposeId.toString();t[n]||(t[n]={}),t[n][s]=e.restrictionType})}}return t}createVectorField(e,t){return t?t.reduce((t,s)=>(t[String(s)]=e.has(Number(s)),t),{}):[...e].reduce((e,t)=>(e[t[0].toString(10)]=t[1],e),{})}}class N extends R{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce((e,t)=>e+=t[1]?"1":"0","")}createRestrictions(e){const t={};if(e.numRestrictions>0){const s=e.getMaxVendorId();e.getRestrictions().forEach(e=>{t[e.purposeId.toString()]="_".repeat(s)});for(let n=0;n<s;n++){const s=n+1;e.getRestrictions(s).forEach(e=>{const s=e.restrictionType.toString(),r=e.purposeId.toString(),o=t[r].substr(0,n),i=t[r].substr(n+1);t[r]=o+s+i})}}return t}}var D=Object.defineProperty,x=(e,t,s)=>(((e,t,s)=>{t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class M extends L{constructor(){super(),x(this,"cmpLoaded",!0),x(this,"cmpStatus",E.cmpStatus),x(this,"displayStatus",E.displayStatus),x(this,"apiVersion",String(E.apiVersion)),x(this,"gvlVersion"),E.tcModel&&E.tcModel.vendorListVersion&&(this.gvlVersion=+E.tcModel.vendorListVersion)}}class j extends Error{constructor(e){super(e),this.name="DecodingError"}}class U extends Error{constructor(e){super(e),this.name="EncodingError"}}class F extends Error{constructor(e){super(e),this.name="GVLError"}}class B extends Error{constructor(e,t,s=""){super(`invalid value ${t} passed for ${e} ${s}`),this.name="TCModelError"}}var H=Object.defineProperty,G=(e,t,s)=>(((e,t,s)=>{t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class z{static encode(e){if(!/^[0-1]+$/.test(e))throw new U("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let s="";for(let t=0;t<e.length;t+=this.BASIS)s+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return s}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new j("Invalidly encoded Base64URL string");let t="";for(let s=0;s<e.length;s++){const n=this.REVERSE_DICT.get(e[s]).toString(2);t+="0".repeat(this.BASIS-n.length)+n}return t}}G(z,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),G(z,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])),G(z,"BASIS",6),G(z,"LCM",24);class Q{clone(){const e=new this.constructor;return Object.keys(this).forEach(t=>{const s=this.deepClone(this[t]);void 0!==s&&(e[t]=s)}),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const s of e)t.push(this.deepClone(s));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const s in e)e.hasOwnProperty(s)&&(t[s]=this.deepClone(e[s]));return t}}}}var W=Object.defineProperty,$=(e,t,s)=>(((e,t,s)=>{t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class q extends Q{constructor(){super(...arguments),$(this,"root",null)}getRoot(){return this.root}isEmpty(){return!this.root}add(e){const t={value:e,left:null,right:null};let s;if(this.isEmpty())this.root=t;else for(s=this.root;;)if(e<s.value){if(null===s.left){s.left=t;break}s=s.left}else{if(!(e>s.value))break;if(null===s.right){s.right=t;break}s=s.right}}get(){const e=[];let t=this.root;for(;t;)if(t.left){let s=t.left;for(;s.right&&s.right!=t;)s=s.right;s.right==t?(s.right=null,e.push(t.value),t=t.right):(s.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,s=this.root;for(;s;){if(s.value===e){t=!0;break}e>s.value?s=s.right:e<s.value&&(s=s.left)}return t}min(e=this.root){let t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(e=this.root){let t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e,t=this.root){let s=null,n="left";for(;t;)if(e<t.value)s=t,t=t.left,n="left";else if(e>t.value)s=t,t=t.right,n="right";else{if(t.left||t.right)if(t.left)if(t.right){const e=this.min(t.right);this.remove(e,t.right),t.value=e}else s?s[n]=t.left:this.root=t.left;else s?s[n]=t.right:this.root=t.right;else s?s[n]=null:this.root=null;t=null}}static build(e){if(e&&0!==e.length){if(1===e.length){const t=new q;return t.add(e[0]),t}{const t=e.length>>1,s=new q;s.add(e[t]);const n=s.getRoot();if(n){if(t+1<e.length){const s=q.build(e.slice(t+1));n.right=s?s.getRoot():null}if(t-1>0){const s=q.build(e.slice(0,t-1));n.left=s?s.getRoot():null}}return s}}return null}}var J=Object.defineProperty;const Y=class e{has(t){return e.langSet.has(t)}forEach(t){e.langSet.forEach(t)}get size(){return e.langSet.size}};var K;((e,t,s)=>{t in e?J(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(Y,"symbol"!=typeof(K="langSet")?K+"":K,new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));let X=Y;var Z,ee,te=Object.defineProperty,se=(e,t,s)=>(((e,t,s)=>{t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class ne{}se(ne,"cmpId","cmpId"),se(ne,"cmpVersion","cmpVersion"),se(ne,"consentLanguage","consentLanguage"),se(ne,"consentScreen","consentScreen"),se(ne,"created","created"),se(ne,"supportOOB","supportOOB"),se(ne,"isServiceSpecific","isServiceSpecific"),se(ne,"lastUpdated","lastUpdated"),se(ne,"numCustomPurposes","numCustomPurposes"),se(ne,"policyVersion","policyVersion"),se(ne,"publisherCountryCode","publisherCountryCode"),se(ne,"publisherCustomConsents","publisherCustomConsents"),se(ne,"publisherCustomLegitimateInterests","publisherCustomLegitimateInterests"),se(ne,"publisherLegitimateInterests","publisherLegitimateInterests"),se(ne,"publisherConsents","publisherConsents"),se(ne,"publisherRestrictions","publisherRestrictions"),se(ne,"purposeConsents","purposeConsents"),se(ne,"purposeLegitimateInterests","purposeLegitimateInterests"),se(ne,"purposeOneTreatment","purposeOneTreatment"),se(ne,"specialFeatureOptins","specialFeatureOptins"),se(ne,"useNonStandardStacks","useNonStandardStacks"),se(ne,"vendorConsents","vendorConsents"),se(ne,"vendorLegitimateInterests","vendorLegitimateInterests"),se(ne,"vendorListVersion","vendorListVersion"),se(ne,"vendorsAllowed","vendorsAllowed"),se(ne,"vendorsDisclosed","vendorsDisclosed"),se(ne,"version","version"),(ee=Z||(Z={}))[ee.NOT_ALLOWED=0]="NOT_ALLOWED",ee[ee.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",ee[ee.REQUIRE_LI=2]="REQUIRE_LI";var re=Object.defineProperty,oe=(e,t,s)=>(((e,t,s)=>{t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const ie=class e extends Q{constructor(e,t){super(),oe(this,"purposeId_"),oe(this,"restrictionType"),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(t){const s=t.split(this.hashSeparator),n=new e;if(2!==s.length)throw new B("hash",t);return n.purposeId=parseInt(s[0],10),n.restrictionType=parseInt(s[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${e.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===Z.NOT_ALLOWED||this.restrictionType===Z.REQUIRE_CONSENT||this.restrictionType===Z.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}};oe(ie,"hashSeparator","-");let ae=ie;var le,ce,ue,de,pe=Object.defineProperty,he=(e,t,s)=>(((e,t,s)=>{t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class ge extends Q{constructor(){super(...arguments),he(this,"bitLength",0),he(this,"map",new Map),he(this,"gvl_")}has(e){return this.map.has(e)}isOkToHave(e,t,s){var n;let r=!0;if(null==(n=this.gvl)?void 0:n.vendors){const n=this.gvl.vendors[s];if(n)if(e===Z.NOT_ALLOWED)r=n.legIntPurposes.includes(t)||n.purposes.includes(t);else if(n.flexiblePurposes.length)switch(e){case Z.REQUIRE_CONSENT:r=n.flexiblePurposes.includes(t)&&n.legIntPurposes.includes(t);break;case Z.REQUIRE_LI:r=n.flexiblePurposes.includes(t)&&n.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const s=t.hash;this.has(s)||(this.map.set(s,new q),this.bitLength=0),this.map.get(s).add(e)}}restrictPurposeToLegalBasis(e){const t=this.gvl.vendorIds,s=e.hash,n=function(){let e;for(e of t);return e}(),r=[...Array(n).keys()].map(e=>e+1);for(let e=1;e<=n;e++)this.has(s)||(this.map.set(s,q.build(r)),this.bitLength=0),this.map.get(s).add(e)}getVendors(e){let t=[];if(e){const s=e.hash;this.has(s)&&(t=this.map.get(s).get())}else{const e=new Set;this.map.forEach(t=>{t.get().forEach(t=>{e.add(t)})}),t=Array.from(e)}return t}getRestrictionType(e,t){let s;return this.getRestrictions(e).forEach(e=>{e.purposeId===t&&(void 0===s||s>e.restrictionType)&&(s=e.restrictionType)}),s}vendorHasRestriction(e,t){let s=!1;const n=this.getRestrictions(e);for(let e=0;e<n.length&&!s;e++)s=t.isSameAs(n[e]);return s}getMaxVendorId(){let e=0;return this.map.forEach(t=>{e=Math.max(t.max(),e)}),e}getRestrictions(e){const t=[];return this.map.forEach((s,n)=>{e?s.contains(e)&&t.push(ae.unHash(n)):t.push(ae.unHash(n))}),t}getPurposes(){const e=new Set;return this.map.forEach((t,s)=>{e.add(ae.unHash(s).purposeId)}),Array.from(e)}remove(e,t){const s=t.hash,n=this.map.get(s);n&&(n.remove(e),n.isEmpty()&&(this.map.delete(s),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach((e,t)=>{const s=ae.unHash(t);e.get().forEach(t=>{this.isOkToHave(s.restrictionType,s.purposeId,t)||e.remove(t)})}))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}(ce=le||(le={})).COOKIE="cookie",ce.WEB="web",ce.APP="app",(de=ue||(ue={})).CORE="core",de.VENDORS_DISCLOSED="vendorsDisclosed",de.VENDORS_ALLOWED="vendorsAllowed",de.PUBLISHER_TC="publisherTC";var me=Object.defineProperty,fe=(e,t,s)=>(((e,t,s)=>{t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class ve{}fe(ve,"ID_TO_KEY",[ue.CORE,ue.VENDORS_DISCLOSED,ue.VENDORS_ALLOWED,ue.PUBLISHER_TC]),fe(ve,"KEY_TO_ID",{[ue.CORE]:0,[ue.VENDORS_DISCLOSED]:1,[ue.VENDORS_ALLOWED]:2,[ue.PUBLISHER_TC]:3});var be=Object.defineProperty,ye=(e,t,s)=>(((e,t,s)=>{t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class Ce extends Q{constructor(){super(...arguments),ye(this,"bitLength",0),ye(this,"maxId_",0),ye(this,"set_",new Set)}*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach(e=>this.unset(e)):"object"==typeof e?this.unset(Object.keys(e).map(e=>Number(e))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(e=>{this.maxId_=Math.max(this.maxId,e)})))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every(t=>{let s=Number.isInteger(parseInt(t,10));return s=s&&this.isValidNumber(e[t].id),s=s&&void 0!==e[t].name,s}),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach(e=>this.set(e));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(e=>Number(e)));else{if(!this.isValidNumber(e))throw new B("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}var we,Se,Ie,Ee,Pe,_e,Le,Ve,Ae,Oe,Te,ke,Re,Ne,De,xe,Me,je,Ue,Fe=Object.defineProperty,Be=(e,t,s)=>(((e,t,s)=>{t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class He{}we=ne.cmpVersion,Se=ne.consentLanguage,Ie=ne.consentScreen,Ee=ne.created,Pe=ne.isServiceSpecific,_e=ne.lastUpdated,Le=ne.policyVersion,Ve=ne.publisherCountryCode,Ae=ne.publisherLegitimateInterests,Oe=ne.publisherConsents,Te=ne.purposeConsents,ke=ne.purposeLegitimateInterests,Re=ne.purposeOneTreatment,Ne=ne.specialFeatureOptins,De=ne.useNonStandardStacks,xe=ne.vendorListVersion,Me=ne.version,Be(He,ne.cmpId,12),Be(He,we,12),Be(He,Se,12),Be(He,Ie,6),Be(He,Ee,36),Be(He,Pe,1),Be(He,_e,36),Be(He,Le,6),Be(He,Ve,12),Be(He,Ae,24),Be(He,Oe,24),Be(He,Te,24),Be(He,ke,24),Be(He,Re,1),Be(He,Ne,12),Be(He,De,1),Be(He,xe,12),Be(He,Me,6),Be(He,"anyBoolean",1),Be(He,"encodingType",1),Be(He,"maxId",16),Be(He,"numCustomPurposes",6),Be(He,"numEntries",12),Be(He,"numRestrictions",12),Be(He,"purposeId",6),Be(He,"restrictionType",2),Be(He,"segmentType",3),Be(He,"singleOrRange",1),Be(He,"vendorId",16);class Ge{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class ze{static encode(e,t){let s;if("string"==typeof e&&(e=parseInt(e,10)),s=e.toString(2),s.length>t||e<0)throw new U(`${e} too large to encode into ${t}`);return s.length<t&&(s="0".repeat(t-s.length)+s),s}static decode(e,t){if(t!==e.length)throw new j("invalid bit length");return parseInt(e,2)}}class Qe{static encode(e,t){return ze.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new j("invalid bit length");const s=new Date;return s.setTime(100*ze.decode(e,t)),s}}class We{static encode(e,t){let s="";for(let n=1;n<=t;n++)s+=Ge.encode(e.has(n));return s}static decode(e,t){if(e.length!==t)throw new j("bitfield encoding length mismatch");const s=new Ce;for(let n=1;n<=t;n++)Ge.decode(e[n-1])&&s.set(n);return s.bitLength=e.length,s}}class $e{static encode(e,t){const s=(e=e.toUpperCase()).charCodeAt(0)-65,n=e.charCodeAt(1)-65;if(s<0||s>25||n<0||n>25)throw new U("invalid language code: "+e);if(t%2==1)throw new U(`numBits must be even, ${t} is not valid`);t/=2;return ze.encode(s,t)+ze.encode(n,t)}static decode(e,t){let s;if(t!==e.length||e.length%2)throw new j("invalid bit length for language");{const t=65,n=e.length/2,r=ze.decode(e.slice(0,n),n)+t,o=ze.decode(e.slice(n),n)+t;s=String.fromCharCode(r)+String.fromCharCode(o)}return s}}class qe{static encode(e){let t=ze.encode(e.numRestrictions,He.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach(s=>{t+=ze.encode(s.purposeId,He.purposeId),t+=ze.encode(s.restrictionType,He.restrictionType);const n=e.getVendors(s),r=n.length;let o=0,i=0,a="";for(let t=0;t<r;t++){const s=n[t];0===i&&(o++,i=s);const l=n[r-1],c=e.gvl.vendorIds,u=e=>{for(;++e<=l&&!c.has(e););return e};if(t===r-1||n[t+1]>u(s)){const e=!(s===i);a+=Ge.encode(e),a+=ze.encode(i,He.vendorId),e&&(a+=ze.encode(s,He.vendorId)),i=0}}t+=ze.encode(o,He.numEntries),t+=a}),t}static decode(e){let t=0;const s=new ge,n=ze.decode(e.substr(t,He.numRestrictions),He.numRestrictions);t+=He.numRestrictions;for(let r=0;r<n;r++){const n=ze.decode(e.substr(t,He.purposeId),He.purposeId);t+=He.purposeId;const r=ze.decode(e.substr(t,He.restrictionType),He.restrictionType);t+=He.restrictionType;const o=new ae(n,r),i=ze.decode(e.substr(t,He.numEntries),He.numEntries);t+=He.numEntries;for(let n=0;n<i;n++){const n=Ge.decode(e.substr(t,He.anyBoolean));t+=He.anyBoolean;const r=ze.decode(e.substr(t,He.vendorId),He.vendorId);if(t+=He.vendorId,n){const n=ze.decode(e.substr(t,He.vendorId),He.vendorId);if(t+=He.vendorId,n<r)throw new j(`Invalid RangeEntry: endVendorId ${n} is less than ${r}`);for(let e=r;e<=n;e++)s.add(e,o)}else s.add(r,o)}}return s.bitLength=t,s}}(Ue=je||(je={}))[Ue.FIELD=0]="FIELD",Ue[Ue.RANGE=1]="RANGE";class Je{static encode(e){const t=[];let s,n=[],r=ze.encode(e.maxId,He.maxId),o="";const i=He.maxId+He.encodingType,a=i+e.maxId,l=2*He.vendorId+He.singleOrRange+He.numEntries;let c=i+He.numEntries;return e.forEach((r,i)=>{if(o+=Ge.encode(r),s=e.maxId>l&&c<a,s&&r){e.has(i+1)?0===n.length&&(n.push(i),c+=He.singleOrRange,c+=He.vendorId):(n.push(i),c+=He.vendorId,t.push(n),n=[])}}),s?(r+=String(je.RANGE),r+=this.buildRangeEncoding(t)):(r+=String(je.FIELD),r+=o),r}static decode(e,t){let s,n=0;const r=ze.decode(e.substr(n,He.maxId),He.maxId);n+=He.maxId;const o=ze.decode(e.charAt(n),He.encodingType);if(n+=He.encodingType,o===je.RANGE){if(s=new Ce,1===t){if("1"===e.substr(n,1))throw new j("Unable to decode default consent=1");n++}const r=ze.decode(e.substr(n,He.numEntries),He.numEntries);n+=He.numEntries;for(let t=0;t<r;t++){const t=Ge.decode(e.charAt(n));n+=He.singleOrRange;const r=ze.decode(e.substr(n,He.vendorId),He.vendorId);if(n+=He.vendorId,t){const t=ze.decode(e.substr(n,He.vendorId),He.vendorId);n+=He.vendorId;for(let e=r;e<=t;e++)s.set(e)}else s.set(r)}}else{const t=e.substr(n,r);n+=r,s=We.decode(t,r)}return s.bitLength=n,s}static buildRangeEncoding(e){const t=e.length;let s=ze.encode(t,He.numEntries);return e.forEach(e=>{const t=1===e.length;s+=Ge.encode(!t),s+=ze.encode(e[0],He.vendorId),t||(s+=ze.encode(e[1],He.vendorId))}),s}}function Ye(){return{[ne.version]:ze,[ne.created]:Qe,[ne.lastUpdated]:Qe,[ne.cmpId]:ze,[ne.cmpVersion]:ze,[ne.consentScreen]:ze,[ne.consentLanguage]:$e,[ne.vendorListVersion]:ze,[ne.policyVersion]:ze,[ne.isServiceSpecific]:Ge,[ne.useNonStandardStacks]:Ge,[ne.specialFeatureOptins]:We,[ne.purposeConsents]:We,[ne.purposeLegitimateInterests]:We,[ne.purposeOneTreatment]:Ge,[ne.publisherCountryCode]:$e,[ne.vendorConsents]:Je,[ne.vendorLegitimateInterests]:Je,[ne.publisherRestrictions]:qe,segmentType:ze,[ne.vendorsDisclosed]:Je,[ne.vendorsAllowed]:Je,[ne.publisherConsents]:We,[ne.publisherLegitimateInterests]:We,[ne.numCustomPurposes]:ze,[ne.publisherCustomConsents]:We,[ne.publisherCustomLegitimateInterests]:We}}var Ke=Object.defineProperty,Xe=(e,t,s)=>(((e,t,s)=>{t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);var Ze=Object.defineProperty,et=(e,t,s)=>(((e,t,s)=>{t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class tt{constructor(e,t){if(et(this,"1",[ue.CORE]),et(this,"2",[ue.CORE]),2===e.version)if(e.isServiceSpecific)this[2].push(ue.PUBLISHER_TC);else{const s=!(!t||!t.isForVendors);s&&!0!==e[ne.supportOOB]||this[2].push(ue.VENDORS_DISCLOSED),s&&(e[ne.supportOOB]&&e[ne.vendorsAllowed].size>0&&this[2].push(ue.VENDORS_ALLOWED),this[2].push(ue.PUBLISHER_TC))}}}var st=Object.defineProperty;class nt{static encode(e,t){let s;try{s=this.fieldSequence[String(e.version)][t]}catch(s){throw new U(`Unable to encode version: ${e.version}, segment: ${t}`)}let n="";t!==ue.CORE&&(n=ze.encode(ve.KEY_TO_ID[t],He.segmentType));const r=Ye();return s.forEach(s=>{const o=e[s],i=r[s];let a=He[s];void 0===a&&this.isPublisherCustom(s)&&(a=Number(e[ne.numCustomPurposes]));try{n+=i.encode(o,a)}catch(e){throw new U(`Error encoding ${t}->${s}: ${e.message}`)}}),z.encode(n)}static decode(e,t,s){const n=z.decode(e);let r=0;s===ue.CORE&&(t.version=ze.decode(n.substr(r,He[ne.version]),He[ne.version])),s!==ue.CORE&&(r+=He.segmentType);const o=this.fieldSequence[String(t.version)][s],i=Ye();return o.forEach(e=>{const s=i[e];let o=He[e];if(void 0===o&&this.isPublisherCustom(e)&&(o=Number(t[ne.numCustomPurposes])),0!==o){const i=n.substr(r,o);if(t[e]=s===Je?s.decode(i,t.version):s.decode(i,o),Number.isInteger(o))r+=o;else{if(!Number.isInteger(t[e].bitLength))throw new j(e);r+=t[e].bitLength}}}),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}((e,t,s)=>{((e,t,s)=>{t in e?st(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s)})(nt,"fieldSequence",new class{constructor(){Xe(this,"1",{[ue.CORE]:[ne.version,ne.created,ne.lastUpdated,ne.cmpId,ne.cmpVersion,ne.consentScreen,ne.consentLanguage,ne.vendorListVersion,ne.purposeConsents,ne.vendorConsents]}),Xe(this,"2",{[ue.CORE]:[ne.version,ne.created,ne.lastUpdated,ne.cmpId,ne.cmpVersion,ne.consentScreen,ne.consentLanguage,ne.vendorListVersion,ne.policyVersion,ne.isServiceSpecific,ne.useNonStandardStacks,ne.specialFeatureOptins,ne.purposeConsents,ne.purposeLegitimateInterests,ne.purposeOneTreatment,ne.publisherCountryCode,ne.vendorConsents,ne.vendorLegitimateInterests,ne.publisherRestrictions],[ue.PUBLISHER_TC]:[ne.publisherConsents,ne.publisherLegitimateInterests,ne.numCustomPurposes,ne.publisherCustomConsents,ne.publisherCustomLegitimateInterests],[ue.VENDORS_ALLOWED]:[ne.vendorsAllowed],[ue.VENDORS_DISCLOSED]:[ne.vendorsDisclosed]})}});var rt=Object.defineProperty;class ot{static process(e,t){const s=e.gvl;if(!s)throw new U("Unable to encode TCModel without a GVL");if(!s.isReady)throw new U("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=s.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;const n=e.version-1;if(!this.processor[n])throw new U("Invalid version: "+e.version);return this.processor[n](e,s)}}((e,t,s)=>{((e,t,s)=>{t in e?rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s)})(ot,"processor",[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);const s=new Map;return s.set("legIntPurposes",e.vendorLegitimateInterests),s.set("purposes",e.vendorConsents),s.forEach((s,n)=>{s.forEach((r,o)=>{if(r){const r=t.vendors[o];if(!r||r.deletedDate)s.unset(o);else if(0===r[n].length)if("legIntPurposes"===n&&0===r.purposes.length&&0===r.legIntPurposes.length&&r.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===r.flexiblePurposes.length)s.unset(o);else{const t=e.publisherRestrictions.getRestrictions(o);let r=!1;for(let e=0,s=t.length;e<s&&!r;e++)r=t[e].restrictionType===Z.REQUIRE_CONSENT&&"purposes"===n||t[e].restrictionType===Z.REQUIRE_LI&&"legIntPurposes"===n;r||s.unset(o)}else s.unset(o)}})}),e.vendorsDisclosed.set(t.vendors),e}]);var it=Object.defineProperty,at=(e,t,s)=>(((e,t,s)=>{t in e?it(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s),lt=(e,t,s)=>new Promise((n,r)=>{var o=e=>{try{a(s.next(e))}catch(e){r(e)}},i=e=>{try{a(s.throw(e))}catch(e){r(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,i);a((s=s.apply(e,t)).next())});const ct=class e extends Q{constructor(t){super(),at(this,"readyPromise"),at(this,"gvlSpecificationVersion"),at(this,"vendorListVersion"),at(this,"tcfPolicyVersion"),at(this,"lastUpdated"),at(this,"purposes"),at(this,"specialPurposes"),at(this,"features"),at(this,"specialFeatures"),at(this,"isReady_",!1),at(this,"vendors_"),at(this,"vendorIds"),at(this,"fullVendorList"),at(this,"byPurposeVendorMap"),at(this,"bySpecialPurposeVendorMap"),at(this,"byFeatureVendorMap"),at(this,"bySpecialFeatureVendorMap"),at(this,"stacks"),at(this,"lang_"),at(this,"isLatest",!1);let s=e.baseUrl;if(this.lang_=e.DEFAULT_LANGUAGE,this.isVendorList(t))this.populate(t),this.readyPromise=Promise.resolve();else{if(!s)throw new F("must specify GVL.baseUrl before loading GVL json");if(t>0){const n=t;e.CACHE.has(n)?(this.populate(e.CACHE.get(n)),this.readyPromise=Promise.resolve()):(s+=e.versionedFilename.replace("[VERSION]",String(n)),this.readyPromise=this.fetchJson(s))}else e.CACHE.has(e.LATEST_CACHE_KEY)?(this.populate(e.CACHE.get(e.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(s+e.latestFilename))}}static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new F("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static emptyLanguageCache(t){let s=!1;return void 0===t&&e.LANGUAGE_CACHE.size>0?(e.LANGUAGE_CACHE=new Map,s=!0):"string"==typeof t&&this.consentLanguages.has(t.toUpperCase())&&(e.LANGUAGE_CACHE.delete(t.toUpperCase()),s=!0),s}static emptyCache(t){let s=!1;return Number.isInteger(t)&&t>=0?(e.CACHE.delete(t),s=!0):void 0===t&&(e.CACHE=new Map,s=!0),s}cacheLanguage(){e.LANGUAGE_CACHE.has(this.lang_)||e.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}fetchJson(e){return lt(this,null,(function*(){try{this.populate(yield class{static absCall(e,t,s,n){return new Promise((r,o)=>{const i=new XMLHttpRequest;i.withCredentials=s,i.addEventListener("load",()=>{if(i.readyState==XMLHttpRequest.DONE)if(i.status>=200&&i.status<300){let e=i.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}r(e)}else o(new Error(`HTTP Status: ${i.status} response type: ${i.responseType}`))}),i.addEventListener("error",()=>{o(new Error("error"))}),i.addEventListener("abort",()=>{o(new Error("aborted"))}),null===t?i.open("GET",e,!0):i.open("POST",e,!0),i.responseType="json",i.timeout=n,i.ontimeout=()=>{o(new Error("Timeout "+n+"ms "+e))},i.send(t)})}static post(e,t,s=!1,n=0){return this.absCall(e,JSON.stringify(t),s,n)}static fetch(e,t=!1,s=0){return this.absCall(e,null,t,s)}}.fetch(e))}catch(e){throw new F(e.message)}}))}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}changeLanguage(t){return lt(this,null,(function*(){const s=t.toUpperCase();if(!e.consentLanguages.has(s))throw new F("unsupported language "+t);if(s!==this.lang_)if(this.lang_=s,e.LANGUAGE_CACHE.has(s)){const t=e.LANGUAGE_CACHE.get(s);for(const e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}else{const s=e.baseUrl+e.languageFilename.replace("[LANG]",t);try{yield this.fetchJson(s),this.cacheLanguage()}catch(e){throw new F("unable to load language: "+e.message)}}}))}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(t){this.purposes=t.purposes,this.specialPurposes=t.specialPurposes,this.features=t.features,this.specialFeatures=t.specialFeatures,this.stacks=t.stacks,this.isVendorList(t)&&(this.gvlSpecificationVersion=t.gvlSpecificationVersion,this.tcfPolicyVersion=t.tcfPolicyVersion,this.vendorListVersion=t.vendorListVersion,this.lastUpdated=t.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=t.vendors,this.fullVendorList=t.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&e.CACHE.set(e.LATEST_CACHE_KEY,this.getJson()),e.CACHE.has(this.vendorListVersion)||e.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(e=>{this.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(e=>{this.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(e=>{this.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(e=>+e)),this.vendorIds=new Set(e),this.vendors_=e.reduce((e,t)=>{const s=this.vendors_[String(t)];return s&&void 0===s.deletedDate&&(s.purposes.forEach(e=>{this.byPurposeVendorMap[String(e)].consent.add(t)}),s.specialPurposes.forEach(e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)}),s.legIntPurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)}),s.flexiblePurposes&&s.flexiblePurposes.forEach(e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)}),s.features.forEach(e=>{this.byFeatureVendorMap[String(e)].add(t)}),s.specialFeatures.forEach(e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=s),e},{})}getFilteredVendors(e,t,s,n){const r=e.charAt(0).toUpperCase()+e.slice(1);let o;const i={};return o="purpose"===e&&s?this["by"+r+"VendorMap"][String(t)][s]:this["by"+(n?"Special":"")+r+"VendorMap"][String(t)],o.forEach(e=>{i[String(e)]=this.vendors[String(e)]}),i}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const t=new e(this.getJson());return this.lang_!==e.DEFAULT_LANGUAGE&&t.changeLanguage(this.lang_),t}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}};at(ct,"LANGUAGE_CACHE",new Map),at(ct,"CACHE",new Map),at(ct,"LATEST_CACHE_KEY",0),at(ct,"DEFAULT_LANGUAGE","EN"),at(ct,"consentLanguages",new X),at(ct,"baseUrl_"),at(ct,"latestFilename","vendor-list.json"),at(ct,"versionedFilename","archives/vendor-list-v[VERSION].json"),at(ct,"languageFilename","purposes-[LANG].json");let ut=ct;var dt=Object.defineProperty,pt=(e,t,s)=>(((e,t,s)=>{t in e?dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class ht extends Q{constructor(e){super(),pt(this,"isServiceSpecific_",!1),pt(this,"supportOOB_",!0),pt(this,"useNonStandardStacks_",!1),pt(this,"purposeOneTreatment_",!1),pt(this,"publisherCountryCode_","AA"),pt(this,"version_",2),pt(this,"consentScreen_",0),pt(this,"policyVersion_",2),pt(this,"consentLanguage_","EN"),pt(this,"cmpId_",0),pt(this,"cmpVersion_",0),pt(this,"vendorListVersion_",0),pt(this,"numCustomPurposes_",0),pt(this,"gvl_"),pt(this,"created"),pt(this,"lastUpdated"),pt(this,"specialFeatureOptins",new Ce),pt(this,"purposeConsents",new Ce),pt(this,"purposeLegitimateInterests",new Ce),pt(this,"publisherConsents",new Ce),pt(this,"publisherLegitimateInterests",new Ce),pt(this,"publisherCustomConsents",new Ce),pt(this,"publisherCustomLegitimateInterests",new Ce),pt(this,"customPurposes"),pt(this,"vendorConsents",new Ce),pt(this,"vendorLegitimateInterests",new Ce),pt(this,"vendorsDisclosed",new Ce),pt(this,"vendorsAllowed",new Ce),pt(this,"publisherRestrictions",new ge),e&&(this.gvl=e),this.updated()}set gvl(e){ut.isInstanceOf(e)||(e=new ut(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new B("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new B("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new B("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new B("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new B("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new B("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort((e,t)=>Number(e)-Number(t));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new B("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}pt(ht,"consentLanguages",ut.consentLanguages);class gt{static encode(e,t){let s,n="";return e=ot.process(e,t),s=Array.isArray(null==t?void 0:t.segments)?t.segments:new tt(e,t)[""+e.version],s.forEach((t,r)=>{let o="";r<s.length-1&&(o="."),n+=nt.encode(e,t)+o}),n}static decode(e,t){const s=e.split("."),n=s.length;t||(t=new ht);for(let e=0;e<n;e++){const n=s[e],r=z.decode(n.charAt(0)).substr(0,He.segmentType),o=ve.ID_TO_KEY[ze.decode(r,He.segmentType).toString()];nt.decode(n,t,o)}return t}}var mt,ft,vt,bt,yt,Ct,wt=Object.defineProperty,St=(e,t,s)=>(((e,t,s)=>{t in e?wt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class It{}mt=n.PING,ft=n.GET_TC_DATA,vt=n.GET_IN_APP_TC_DATA,bt=n.GET_VENDOR_LIST,yt=n.ADD_EVENT_LISTENER,Ct=n.REMOVE_EVENT_LISTENER,St(It,mt,class extends b{respond(){this.invokeCallback(new M)}}),St(It,ft,y),St(It,vt,class extends y{respond(){this.throwIfParamInvalid(),this.invokeCallback(new N(this.param))}}),St(It,bt,class extends b{respond(){const e=E.tcModel,t=e.vendorListVersion;let s;void 0===this.param&&(this.param=t),s=this.param===t&&e.gvl?e.gvl:new ut(this.param),s.readyPromise.then(()=>{this.invokeCallback(s.getJson())})}}),St(It,yt,class extends y{respond(){this.listenerId=E.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}),St(It,Ct,class extends b{respond(){this.invokeCallback(E.eventQueue.remove(this.param))}});var Et=Object.defineProperty;class Pt{static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}((e,t,s)=>{((e,t,s)=>{t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s)})(Pt,"set_",new Set([0,2,void 0,null]));var _t=Object.defineProperty,Lt=(e,t,s)=>(((e,t,s)=>{t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class Vt{constructor(e){if(Lt(this,"callQueue"),Lt(this,"customCommands"),e){let t=n.ADD_EVENT_LISTENER;if(null==e?void 0:e[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${n.GET_TC_DATA} instead`);if(t=n.REMOVE_EVENT_LISTENER,null==e?void 0:e[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);(null==e?void 0:e[n.GET_TC_DATA])&&(e[n.ADD_EVENT_LISTENER]=e[n.GET_TC_DATA],e[n.REMOVE_EVENT_LISTENER]=e[n.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window.__tcfapi()||[]}catch(e){this.callQueue=[]}finally{window.__tcfapi=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s,...r){if("string"!=typeof e)s(null,!1);else if(Pt.has(t)){if("function"!=typeof s)throw new Error("invalid callback function");E.disabled?s(new O,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](s,...r):e===n.PING?this.isCustomCommand(e)?new It[e](this.customCommands[e],r[0],null,s):new It[e](s,r[0]):void 0===E.tcModel?this.callQueue.push([e,t,s,...r]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new It[e](this.customCommands[e],r[0],null,s):new It[e](s,r[0]):s(null,!1)}else s(null,!1)}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach(e=>{window.__tcfapi(...e)})}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==It[e]}}var At=Object.defineProperty,Ot=(e,t,s)=>(((e,t,s)=>{t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);class Tt{constructor(e,t,s=!1,n){Ot(this,"callResponder"),Ot(this,"isServiceSpecific"),Ot(this,"numUpdates",0),this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),E.cmpId=e,E.cmpVersion=t,E.tcfPolicyVersion=2,this.isServiceSpecific=!!s,this.callResponder=new Vt(n)}throwIfInvalidInt(e,t,s){if(!("number"==typeof e&&Number.isInteger(e)&&e>=s))throw new Error(`Invalid ${t}: ${e}`)}update(e,t=!1){if(E.disabled)throw new Error("CmpApi Disabled");E.cmpStatus=o.LOADED,t?(E.displayStatus=a.VISIBLE,E.eventStatus=c.CMP_UI_SHOWN):void 0===E.tcModel?(E.displayStatus=a.DISABLED,E.eventStatus=c.TC_LOADED):(E.displayStatus=a.HIDDEN,E.eventStatus=c.USER_ACTION_COMPLETE),E.gdprApplies=null!==e,E.gdprApplies?(""===e?(E.tcModel=new ht,E.tcModel.cmpId=E.cmpId,E.tcModel.cmpVersion=E.cmpVersion):E.tcModel=gt.decode(e),E.tcModel.isServiceSpecific=this.isServiceSpecific,E.tcfPolicyVersion=Number(E.tcModel.policyVersion),E.tcString=e):E.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():E.eventQueue.exec(),this.numUpdates++}disable(){E.disabled=!0,E.cmpStatus=o.ERROR}}var kt=s(14),Rt=s.n(kt);class Nt{static encode(e){return"1~"+e.join(".")}static decode(e){const t=e.substring(2);return t?t.split("."):[]}}var Dt=Object.defineProperty,xt=(e,t,s)=>(((e,t,s)=>{t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const Mt="skipped",jt="ui-visible-new",Ut="ui-visible-reset",Ft="ui-closed",Bt="disable",Ht=[1,3,4,5,6],Gt=[2,7,8,9,10,11],zt=()=>{var e;return`https://script.wikia.nocookie.net/fandom-ae-assets/tcf/${null!=(e=Object(p.d)("tracking-opt-in_vendorlist_version"))?e:"v2.2"}/`},Qt=()=>({allowedVendors:null,allowedVendorPurposes:null,allowedSpecialFeatures:null,cookieAttributes:{domain:Object(p.b)(window.location.hostname),expires:390},gdprApplies:!1,language:"en"});class Wt{constructor(e){xt(this,"loaded",null),xt(this,"mounted",!1),xt(this,"vendorList"),this.options=Object.assign(Qt(),e),Object(p.a)("GDPR","Constructed with params",e),ut.baseUrl=zt(),ut.latestFilename="vendor-list.json",ut.versionedFilename="archives/vendor-list-v[VERSION].json",void 0===window.__tcfapi&&this.installStub()}static installStub(){Rt()(),Object(p.a)("GDPR","Stub installed")}static fetchVendorList(){return Object(p.c)(zt()+"vendor-list.json")}configure(e){Object.assign(this.options,e),Object(p.a)("GDPR","Configured with params",e)}installStub(){return Wt.installStub()}initialize(){const e=(e,t,s)=>{t&&"boolean"!=typeof t&&(t.addtlConsent=this.getProviderConsentCookie()),e(t,s)};this.cmpApi=new Tt(141,7,!0,{getTCData:e,getInAppTCData:e,isGalactusAllowed:e=>{window.__tcfapi("addEventListener",2,(t,s)=>{["tcloaded","useractioncomplete"].includes(t.eventStatus)&&(e(!!s&&!!(t&&t.vendor&&t.vendor.consents&&t.vendor.consents[756])),window.__tcfapi("removeEventListener",2,()=>{},t.listenerId))})}}),Object(p.a)("GDPR","Initialized with version",7);const{gdprApplies:t}=this.options;t&&!this.vendorList&&(Object(p.a)("GDPR","Applies - fetching vendor list"),this.loadVendorList())}loadVendorList(){return this.loaded||(this.loaded=Wt.fetchVendorList().then(e=>(this.vendorList=e,Object(p.a)("GDPR","Vendor list fetched and saved",e),this.vendorList))),this.loaded}uninstall(){Object(p.a)("GDPR","Uninstalled"),this.options=Qt(),this.setProviderConsentCookie(null),this.setVendorConsentCookie(null),delete window.__tcfapi}updateApi(e){if(!this.options.gdprApplies)return this.cmpApi.update(null),void Object(p.a)("GDPR","Does not apply");switch(e){case Mt:this.cmpApi.update(this.getDeprecatedVendorConsentCookie(),!1),Object(p.a)("GDPR","UI not shown");break;case jt:this.cmpApi.update("",!0),Object(p.a)("GDPR","UI displayed for the first time");break;case Ut:this.cmpApi.update(this.getDeprecatedVendorConsentCookie(),!0),Object(p.a)("GDPR","UI displayed after policy change");break;case Ft:try{const[,e]=this.createConsentStrings();this.cmpApi.update(e,!1)}catch(e){console.error(e.message),console.error("Can't update the CMP api")}Object(p.a)("GDPR","UI closed");break;case Bt:this.cmpApi.disable(),Object(p.a)("GDPR","Unable to perform the operations in compliance with the TCF")}}getLegitimateInterests(e){return Array.isArray(e)?e.filter(e=>!Ht.includes(e)):[]}createConsentStrings(){if(void 0===this.vendorList)throw Error("Can't create consent strings without a VendorList");const e=new ut(this.vendorList),t=new ht(e),{allowedVendorPurposes:s,allowedSpecialFeatures:n,allowedVendors:r,allowedProviders:o=[],consentScreen:i,language:a}=this.options;t.cmpId=141,t.cmpVersion=7,t.consentScreen=Number(i)||0,t.consentLanguage=String(a).toLowerCase()||"en",t.isServiceSpecific=!0,t.publisherCountryCode="US",t.purposeConsents.set(Array.isArray(s)?s:[]),t.specialFeatureOptins.set(Array.isArray(n)?n:[]),t.vendorConsents.set(Array.isArray(r)?r:[]),t.publisherLegitimateInterests.set(Gt),t.purposeLegitimateInterests.set(this.getLegitimateInterests(s)),t.vendorLegitimateInterests.set(Array.isArray(r)?r:[]),Object(p.a)("GDPR","Consent saved with vendors: ",r," and purposes",s," and special feature options",n," and providers",o);const l=Nt.encode(o),c=gt.encode(t);return Object(p.a)("GDPR","Consent strings created",l,c),this.setProviderConsentCookie(l),this.setVendorConsentCookie(c),[l,c]}getDeprecatedVendorConsentCookie(){return m.a.get("euconsent-v2")||""}getVendorConsentCookie(){return m.a.get("eupubconsent-v2")||""}getProviderConsentCookie(){return m.a.get("addtl_consent")||""}getConsents(){const e=this.getProviderConsentCookie(),t=this.getDeprecatedVendorConsentCookie(),s=Nt.decode(e);let n;try{n=gt.decode(t)}catch(e){return console.error(e.message),{allowedProviders:s,allowedVendorPurposes:[],allowedSpecialFeatures:[],allowedVendors:[]}}return{allowedVendorPurposes:[...new Set([...n.purposeConsents.values(),...n.purposeLegitimateInterests.values()]).values()],allowedSpecialFeatures:[...n.specialFeatureOptins.values()],allowedVendors:[...new Set([...n.vendorConsents.values(),...n.vendorLegitimateInterests.values()]).values()],allowedProviders:Nt.decode(e)}}setVendorConsentCookie(e){const t=this.options.cookieAttributes;e?m.a.set("euconsent-v2",e,t):m.a.remove("euconsent-v2",t)}setProviderConsentCookie(e){const t=this.options.cookieAttributes;e?m.a.set("addtl_consent",e,t):m.a.remove("addtl_consent",t)}hasUserConsent(){return this.options.oneTrustEnabled?!!this.getVendorConsentCookie():!!this.getDeprecatedVendorConsentCookie()&&!!this.getProviderConsentCookie()}isWithdrawingConsent(){return window&&window.location&&window.location.pathname.includes("privacy-policy")&&window.location.search&&window.location.search.includes("withdrawConsent=true")}isVendorTCFPolicyVersionOutdated(){const e=this.getDeprecatedVendorConsentCookie();if(!e)return!1;return gt.decode(e).policyVersion!==this.vendorList.tcfPolicyVersion}}var $t=Wt,qt=Object.defineProperty,Jt=(e,t,s)=>(((e,t,s)=>{t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);var Yt=class{constructor(e,t,s,n,r,o,i,a){Jt(this,"removeApp",()=>{this.root&&Object(d.c)(null,this.root,this.root.lastChild)}),Jt(this,"onAcceptTracking",(e,t,s,n)=>{this.consentManagementProvider.configure({allowedVendors:e,allowedProviders:n,allowedVendorPurposes:t,allowedSpecialFeatures:s}),this.consentManagementProvider.updateApi(Ft),this.options.onAcceptTracking(e,t),this.options.onConsentsReady()}),Jt(this,"onRejectTracking",(e,t,s,n)=>{this.consentManagementProvider.configure({allowedVendors:e,allowedProviders:n,allowedVendorPurposes:t,allowedSpecialFeatures:s}),this.consentManagementProvider.updateApi(Ft),this.options.onRejectTracking(e,t),this.options.onConsentsReady()}),this.tracker=e,this.optInManager=t,this.geoManager=s,this.iabPurposesManager=n,this.contentManager=r,this.consentManagementProvider=o,this.options=i,this.location=a,this.isReset=!1}getConsent(){if(!this.geoRequiresTrackingConsent())return{gdprConsent:!0,geoRequiresConsent:!1};if(void 0===this.hasUserConsented())return{gdprConsent:!1,geoRequiresConsent:!0};const e=this.hasUserConsented();return Object(p.a)("GDPR","User consent",e),{gdprConsent:e,geoRequiresConsent:!0}}hasUserConsented(){const e=this.consentManagementProvider.hasUserConsent()||Object(p.e)("mobile-app");return!this.isOnWhiteListedPage()&&(!this.geoRequiresTrackingConsent()||!this.isGpcEnabled()&&(!(!e||!this.optInManager.hasAcceptedTracking())||(!e||!this.optInManager.hasRejectedTracking())&&(!!this.geoManager.hasGeoCookie()&&void 0)))}isOnWhiteListedPage(){const{host:e,pathname:t,search:s}=this.location;if(this.isReset||s.includes("withdrawConsent=true"))return!1;const{content:n}=this.contentManager,r=Object(p.g)(n.privacyPolicyUrl),o=Object(p.g)(n.partnerListUrl);return r.hostname===e&&t===r.pathname||o.hostname===e&&t===o.pathname}geoRequiresTrackingConsent(){return this.geoManager.hasSpecialPrivacyLaw()}reset(){this.isReset=!0,this.clear(),this.consentManagementProvider.installStub(),this.render()}clear(){this.optInManager.clear(),this.consentManagementProvider.uninstall()}render(){this.root||(this.root=document.createElement("div"),document.body.appendChild(this.root)),this.consentManagementProvider.configure({gdprApplies:this.geoRequiresTrackingConsent()}),this.consentManagementProvider.initialize(),this.consentManagementProvider.loadVendorList().then(e=>(this.iabPurposesManager.setIabPurposesFromVendorList(e),this.contentManager.loadContent())).then(()=>{this.consentManagementProvider.isVendorTCFPolicyVersionOutdated()&&this.consentManagementProvider.setVendorConsentCookie(null),this.checkUserConsent()}),this.isGpcEnabled()&&this.tracker.trackGpcImpression()}checkUserConsent(){switch(this.hasUserConsented()){case!0:this.consentManagementProvider.updateApi(Mt),this.options.onAcceptTracking(),this.options.onConsentsReady();break;case!1:this.consentManagementProvider.updateApi(this.isGpcEnabled()?Ft:Mt),this.options.onRejectTracking(),this.options.onConsentsReady();break;default:Object(p.e)("mobile-app")||this.renderModal()}}renderModal(){const e=this.options.enabledVendors.filter(e=>!(e in h.c)),t={enabledPurposes:[1,2,3,4,5,6,7,8,9,10,11],enabledVendors:this.options.enabledVendors,enabledProviders:this.options.enabledProviders,enabledSpecialFeatures:[1,2],consentedPurposes:[],consentedVendors:e,consentedProviders:[],consentedSpecialFeatures:[],zIndex:this.options.zIndex,preventScrollOn:this.options.preventScrollOn,isCurse:this.options.isCurse};if(this.consentManagementProvider.hasUserConsent()){const e=this.consentManagementProvider.getConsents();Object.assign(t,{consentedPurposes:e.allowedVendorPurposes,consentedVendors:e.allowedVendors,consentedProviders:e.allowedProviders,consentedSpecialFeatures:e.allowedSpecialFeatures})}this.consentManagementProvider.updateApi(jt),this.iabPurposesManager.loadIabPurposes().then(()=>s.e(4).then(s.bind(null,30))).then(({default:e})=>{Object(d.c)(Object(d.b)(e,{onRequestAppRemove:this.removeApp,onAcceptTracking:this.onAcceptTracking,onRejectTracking:this.onRejectTracking,tracker:this.tracker,optInManager:this.optInManager,geoManager:this.geoManager,options:t,content:this.contentManager.content,vendorList:this.consentManagementProvider.vendorList,iabPurposes:this.iabPurposesManager.iabPurposes}),this.root,this.root.lastChild)})}isGpcEnabled(){return window.navigator&&window.navigator.globalPrivacyControl}};const Kt="accepted",Xt="rejected";var Zt=class{constructor(e,t,s,n,r){this.cookieName=t||"tracking-opt-in-status",this.acceptExpiration=s||18250,this.rejectExpiration=n||31,this.domain=Object(p.b)(e||window.location.hostname),this.queryParam=r||"tracking-opt-in-status"}checkCookieVersion(){const e=m.a.get("tracking-opt-in-version");return(!e||parseInt(e,10)<7)&&(this.clear(),!0)}getValue(){return m.a.get(this.cookieName)}hasAcceptedTracking(){return this.getValue()===Kt}hasRejectedTracking(){return this.getValue()===Xt}setCookies(e,t,s={}){this.domain&&(s.domain=this.domain),m.a.set(e,t,s),m.a.set("tracking-opt-in-version",7,s)}setTrackingAccepted(){this.setCookies(this.cookieName,Kt,{expires:this.acceptExpiration})}setForcedStatusFromQueryParams(e){-1!==e.indexOf(this.queryParam+"=true")?this.setTrackingAccepted():-1!==e.indexOf(this.queryParam+"=false")&&this.setTrackingRejected()}setTrackingRejected(){this.setCookies(this.cookieName,Xt,{expires:this.rejectExpiration})}clear(){const e=this.domain?{domain:this.domain}:{};m.a.remove(this.cookieName,e),m.a.remove("tracking-opt-in-version",e)}},es=s(15),ts=Object.defineProperty,ss=Object.getOwnPropertySymbols,ns=Object.prototype.hasOwnProperty,rs=Object.prototype.propertyIsEnumerable,os=(e,t,s)=>t in e?ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,is=(e,t)=>{for(var s in t||(t={}))ns.call(t,s)&&os(e,s,t[s]);if(ss)for(var s of ss(t))rs.call(t,s)&&os(e,s,t[s]);return e},as=(e,t,s)=>(os(e,"symbol"!=typeof t?t+"":t,s),s);const ls={en:{privacyPolicyUrl:"https://www.fandom.com/privacy-policy",partnerListUrl:"https://www.fandom.com/partner-list"}},cs={de:()=>s.e(0).then(s.t.bind(null,31,3)),en:()=>es,es:()=>s.e(1).then(s.t.bind(null,32,3)),fr:()=>s.e(2).then(s.t.bind(null,33,3)),it:()=>s.e(5).then(s.t.bind(null,34,3)),ja:()=>s.e(6).then(s.t.bind(null,35,3)),pl:()=>s.e(9).then(s.t.bind(null,36,3)),pt:()=>s.e(10).then(s.t.bind(null,37,3)),ru:()=>s.e(11).then(s.t.bind(null,38,3)),zh:()=>s.e(12).then(s.t.bind(null,39,3)),"zh-hk":()=>s.e(13).then(s.t.bind(null,40,3)),"zh-tw":()=>s.e(13).then(s.t.bind(null,40,3))};class us{constructor(e="en"){as(this,"content",null),as(this,"i18nLanguageIsDefault",!1),this.resolveI18NLanguage(e),this.content=is(is({},cs.en()),ls[this.i18nLanguage]||ls.en)}resolveI18NLanguage(e){if(void 0!==cs[e])return void(this.i18nLanguage=e);const t=e.substring(0,2);void 0===cs[t]?(this.i18nLanguage="en",this.i18nLanguageIsDefault=!0):this.i18nLanguage=t}loadContent(){return"en"===this.i18nLanguage||!(this.i18nLanguage in cs)?Promise.resolve(this.content):cs[this.i18nLanguage]().then(e=>e.default).then(e=>(this.content=is(is({},this.content),e),this.content))}}var ds=Object.defineProperty,ps=(e,t,s)=>(((e,t,s)=>{t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s})(e,"symbol"!=typeof t?t+"":t,s),s);const hs="purposes-code.json",gs=["bg","ca","cs","da","de","el","en","es","et","eu","fi","fr","gl","hr","hu","it","ja","lt","lv","mt","nl","no","pl","pt-br","ro","ru","sk","sl","sr-cyrl","sr-latn","sv","tr","zh"],ms={de:"de",en:"en",es:"es",fr:"fr",it:"it",ja:"ja",pl:"pl",pt:"pt-br",ru:"ru",zh:"zh","zh-hk":"en","zh-tw":"en"};class fs{constructor(e,t){ps(this,"iabPurposes",null),this.resolveIabLanguage(e,t)}setIabPurposesFromVendorList(e){this.iabPurposes={language:"en",purposes:e.purposes,specialPurposes:e.specialPurposes,features:e.features,specialFeatures:e.specialFeatures,dataCategories:e.dataCategories}}resolveIabLanguage(e,t){const s="string"==typeof t&&t in ms?ms[t]:e;this.iabLanguage=gs.includes(s)?s:"en"}loadIabPurposes(){return Object(p.c)(`${zt()}${hs.replace("code",this.iabLanguage)}`).then(e=>{"object"==typeof e&&(this.iabPurposes=e,this.iabPurposes.language=this.iabLanguage)}).catch(()=>{Object(p.a)("GDPR","Failed to download IAB Purposes translations")}).finally(()=>this.iabPurposes)}}var vs=Object.getOwnPropertySymbols,bs=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable;function Cs(e,t,s,n){const r=n,{zIndex:o,onAcceptTracking:i,onRejectTracking:a,onConsentsReady:l,preventScrollOn:c,enabledVendorPurposes:u,enabledVendors:d,enabledProviders:p,isCurse:h}=r,g=((e,t)=>{var s={};for(var n in e)bs.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&vs)for(var n of vs(e))t.indexOf(n)<0&&ys.call(e,n)&&(s[n]=e[n]);return s})(r,["zIndex","onAcceptTracking","onRejectTracking","onConsentsReady","preventScrollOn","enabledVendorPurposes","enabledVendors","enabledProviders","isCurse"]),m=new $t({language:t.language,oneTrustEnabled:n.oneTrustEnabled}),f=new Zt(window.location.hostname,g.cookieName,g.cookieExpiration,g.cookieRejectExpiration,g.queryParamName),v=new us(t.language),b=new fs(t.language,v.i18nLanguageIsDefault?void 0:v.i18nLanguage);return f.setForcedStatusFromQueryParams(window.location.search),(f.checkCookieVersion()||m.isWithdrawingConsent())&&(m.setVendorConsentCookie(null),m.setProviderConsentCookie(null)),new Yt(s,f,e,b,v,m,{preventScrollOn:c,zIndex:o,enabledVendors:d,enabledProviders:p,onAcceptTracking:i,onRejectTracking:a,onConsentsReady:l,isCurse:h},window.location)}},8:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return x})),s.d(t,"c",(function(){return M}));var n=function(){},r={},o=[],i=[];function a(e,t){var s,a,l,c,u=i;for(c=arguments.length;c-- >2;)o.push(arguments[c]);for(t&&null!=t.children&&(o.length||o.push(t.children),delete t.children);o.length;)if((a=o.pop())&&void 0!==a.pop)for(c=a.length;c--;)o.push(a[c]);else"boolean"==typeof a&&(a=null),(l="function"!=typeof e)&&(null==a?a="":"number"==typeof a?a=String(a):"string"!=typeof a&&(l=!1)),l&&s?u[u.length-1]+=a:u===i?u=[a]:u.push(a),s=l;var d=new n;return d.nodeName=e,d.children=u,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==r.vnode&&r.vnode(d),d}function l(e,t){for(var s in t)e[s]=t[s];return e}function c(e,t){e&&("function"==typeof e?e(t):e.current=t)}var u="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var d=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function h(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(r.debounceRendering||u)(g)}function g(){for(var e;e=p.pop();)e._dirty&&N(e)}function m(e,t,s){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&f(e,t.nodeName):s||e._componentConstructor===t.nodeName}function f(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function v(e){var t=l({},e.attributes);t.children=e.children;var s=e.nodeName.defaultProps;if(void 0!==s)for(var n in s)void 0===t[n]&&(t[n]=s[n]);return t}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,s,n,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)c(s,null),c(n,e);else if("class"!==t||r)if("style"===t){if(n&&"string"!=typeof n&&"string"!=typeof s||(e.style.cssText=n||""),n&&"object"==typeof n){if("string"!=typeof s)for(var o in s)o in n||(e.style[o]="");for(var o in n)e.style[o]="number"==typeof n[o]&&!1===d.test(o)?n[o]+"px":n[o]}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html||"");else if("o"==t[0]&&"n"==t[1]){var i=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),n?s||e.addEventListener(t,C,i):e.removeEventListener(t,C,i),(e._listeners||(e._listeners={}))[t]=n}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==n?"":n}catch(e){}null!=n&&!1!==n||"spellcheck"==t||e.removeAttribute(t)}else{var a=r&&t!==(t=t.replace(/^xlink:?/,""));null==n||!1===n?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof n&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):e.setAttribute(t,n))}else e.className=n||""}function C(e){return this._listeners[e.type](r.event&&r.event(e)||e)}var w=[],S=0,I=!1,E=!1;function P(){for(var e;e=w.shift();)r.afterMount&&r.afterMount(e),e.componentDidMount&&e.componentDidMount()}function _(e,t,s,n,r,o){S++||(I=null!=r&&void 0!==r.ownerSVGElement,E=null!=e&&!("__preactattr_"in e));var i=L(e,t,s,n,o);return r&&i.parentNode!==r&&r.appendChild(i),--S||(E=!1,o||P()),i}function L(e,t,s,n,r){var o=e,i=I;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(o=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(o,e),V(e,!0))),o.__preactattr_=!0,o;var a,l,c=t.nodeName;if("function"==typeof c)return function(e,t,s,n){var r=e&&e._component,o=r,i=e,a=r&&e._componentConstructor===t.nodeName,l=a,c=v(t);for(;r&&!l&&(r=r._parentComponent);)l=r.constructor===t.nodeName;r&&l&&(!n||r._component)?(R(r,c,3,s,n),e=r.base):(o&&!a&&(D(o),e=i=null),r=T(t.nodeName,c,s),e&&!r.nextBase&&(r.nextBase=e,i=null),R(r,c,1,s,n),e=r.base,i&&e!==i&&(i._component=null,V(i,!1)));return e}(e,t,s,n);if(I="svg"===c||"foreignObject"!==c&&I,c=String(c),(!e||!f(e,c))&&(a=c,(l=I?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)).normalizedNodeName=a,o=l,e)){for(;e.firstChild;)o.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(o,e),V(e,!0)}var u=o.firstChild,d=o.__preactattr_,p=t.children;if(null==d){d=o.__preactattr_={};for(var h=o.attributes,g=h.length;g--;)d[h[g].name]=h[g].value}return!E&&p&&1===p.length&&"string"==typeof p[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=p[0]&&(u.nodeValue=p[0]):(p&&p.length||null!=u)&&function(e,t,s,n,r){var o,i,a,l,c,u=e.childNodes,d=[],p={},h=0,g=0,f=u.length,v=0,y=t?t.length:0;if(0!==f)for(var C=0;C<f;C++){var w=u[C],S=w.__preactattr_;null!=(I=y&&S?w._component?w._component.__key:S.key:null)?(h++,p[I]=w):(S||(void 0!==w.splitText?!r||w.nodeValue.trim():r))&&(d[v++]=w)}if(0!==y)for(C=0;C<y;C++){var I;if(l=t[C],c=null,null!=(I=l.key))h&&void 0!==p[I]&&(c=p[I],p[I]=void 0,h--);else if(g<v)for(o=g;o<v;o++)if(void 0!==d[o]&&m(i=d[o],l,r)){c=i,d[o]=void 0,o===v-1&&v--,o===g&&g++;break}c=L(c,l,s,n),a=u[C],c&&c!==e&&c!==a&&(null==a?e.appendChild(c):c===a.nextSibling?b(a):e.insertBefore(c,a))}if(h)for(var C in p)void 0!==p[C]&&V(p[C],!1);for(;g<=v;)void 0!==(c=d[v--])&&V(c,!1)}(o,p,s,n,E||null!=d.dangerouslySetInnerHTML),function(e,t,s){var n;for(n in s)t&&null!=t[n]||null==s[n]||y(e,n,s[n],s[n]=void 0,I);for(n in t)"children"===n||"innerHTML"===n||n in s&&t[n]===("value"===n||"checked"===n?e[n]:s[n])||y(e,n,s[n],s[n]=t[n],I)}(o,t.attributes,d),I=i,o}function V(e,t){var s=e._component;s?D(s):(null!=e.__preactattr_&&c(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||b(e),A(e))}function A(e){for(e=e.lastChild;e;){var t=e.previousSibling;V(e,!0),e=t}}var O=[];function T(e,t,s){var n,r=O.length;for(e.prototype&&e.prototype.render?(n=new e(t,s),x.call(n,t,s)):((n=new x(t,s)).constructor=e,n.render=k);r--;)if(O[r].constructor===e)return n.nextBase=O[r].nextBase,O.splice(r,1),n;return n}function k(e,t,s){return this.constructor(e,s)}function R(e,t,s,n,o){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n)),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==s&&(1!==s&&!1===r.syncComponentUpdates&&e.base?h(e):N(e,1,o)),c(e.__ref,e))}function N(e,t,s,n){if(!e._disable){var o,i,a,c=e.props,u=e.state,d=e.context,p=e.prevProps||c,h=e.prevState||u,g=e.prevContext||d,m=e.base,f=e.nextBase,b=m||f,y=e._component,C=!1,I=g;if(e.constructor.getDerivedStateFromProps&&(u=l(l({},u),e.constructor.getDerivedStateFromProps(c,u)),e.state=u),m&&(e.props=p,e.state=h,e.context=g,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(c,u,d)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(c,u,d),e.props=c,e.state=u,e.context=d),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){o=e.render(c,u,d),e.getChildContext&&(d=l(l({},d),e.getChildContext())),m&&e.getSnapshotBeforeUpdate&&(I=e.getSnapshotBeforeUpdate(p,h));var E,L,A=o&&o.nodeName;if("function"==typeof A){var O=v(o);(i=y)&&i.constructor===A&&O.key==i.__key?R(i,O,1,d,!1):(E=i,e._component=i=T(A,O,d),i.nextBase=i.nextBase||f,i._parentComponent=e,R(i,O,0,d,!1),N(i,1,s,!0)),L=i.base}else a=b,(E=y)&&(a=e._component=null),(b||1===t)&&(a&&(a._component=null),L=_(a,o,d,s||!m,b&&b.parentNode,!0));if(b&&L!==b&&i!==y){var k=b.parentNode;k&&L!==k&&(k.replaceChild(L,b),E||(b._component=null,V(b,!1)))}if(E&&D(E),e.base=L,L&&!n){for(var x=e,M=e;M=M._parentComponent;)(x=M).base=L;L._component=x,L._componentConstructor=x.constructor}}for(!m||s?w.push(e):C||(e.componentDidUpdate&&e.componentDidUpdate(p,h,I),r.afterUpdate&&r.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);S||n||P()}}function D(e){r.beforeUnmount&&r.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var s=e._component;s?D(s):t&&(null!=t.__preactattr_&&c(t.__preactattr_.ref,null),e.nextBase=t,b(t),O.push(e),A(t)),c(e.__ref,null)}function x(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function M(e,t,s){return _(s,e,{},!1,t,!1)}l(x.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=l(l({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),h(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),N(this,2)},render:function(){}})}}]);